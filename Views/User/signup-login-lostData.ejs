<%-include("../../Views/Partials/User/header")%>
<style>
  .errorMessage {
    color: red;
    font-size: 14px;
    font-weight: normal;
    margin-top: 5px;
  }
</style>

<main class="main">
  <nav aria-label="breadcrumb" class="breadcrumb-nav border-0 mb-0">
    <div class="container">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item"><a href="#">Pages</a></li>
        <li class="breadcrumb-item" aria-current="page">Login</li>
      </ol>
    </div>
    <!-- End .container --> 
  </nav>
  <!-- End .breadcrumb-nav -->

  <div
    class="login-page bg-image pt-8 pb-8 pt-md-12 pb-md-12 pt-lg-17 pb-lg-17"
    style="background-image: url('assets/images/backgrounds/login-bg.jpg')"
  >
    <div class="container">
      <div class="form-box">
        <div class="form-tab">
          <ul class="nav nav-pills nav-fill" role="tablist">
            <li class="nav-item">
              <a
                class="nav-link"
                id="signin-tab-2"
                data-toggle="tab"
                href="#signin-2"
                role="tab"
                aria-controls="signin-2"
                aria-selected="false"
                >LogIn</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link active"
                id="register-tab-2"
                data-toggle="tab"
                href="#register-2"
                role="tab"
                aria-controls="register-2"
                aria-selected="true"
                >Register</a
              >
            </li>
          </ul>
          <div class="tab-content">
            <div
              class="tab-pane fade"
              id="signin-2"
              role="tabpanel"
              aria-labelledby="signin-tab-2"
            >
              <form action="/login"  method="post">
                <div class="form-group">
                  <label for="singin-email-2"
                    > Enter email address *</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="login-email"
                    name="email"
                    required
                  />
                </div>
                <!-- End .form-group -->

                <div class="form-group">
                  <label for="singin-password-2">Password *</label>
                  <input
                    type="password"
                    class="form-control"
                    id="login-password"
                    name="password"
                    required
                  />
                </div>
                <!-- End .form-group -->

                <div class="form-footer">
                  <button type="submit" class="btn btn-outline-primary-2">
                    <span>LOG IN</span>
                    <i class="icon-long-arrow-right"></i>
                  </button>

                  <div class="custom-control custom-checkbox">
                    <input
                      type="checkbox"
                      class="custom-control-input"
                      id="signin-remember-2"
                    />
                    <label class="custom-control-label" for="signin-remember-2"
                      >Remember Me</label
                    >
                  </div>
                  <!-- End .custom-checkbox -->

                  <a href="#" class="forgot-link">Forgot Your Password?</a>
                </div>
                <!-- End .form-footer -->
              </form>
              <div class="form-choice">
                <p class="text-center">or sign in with</p>
                <div class="row">
                  <div class="col-sm-6">
                    <a href="#" class="btn btn-login btn-g">
                      <i class="icon-google"></i>
                      Login With Google
                    </a>
                  </div>
                  <!-- End .col-6 -->
                  <div class="col-sm-6">
                    <a href="#" class="btn btn-login btn-f">
                      <i class="icon-facebook-f"></i>
                      Login With Facebook
                    </a>
                  </div>
                  End .col-6
                </div>
                <!-- End .row -->
              </div>
              <!-- End .form-choice -->
            </div>
            <!-- .End .tab-pane -->
            <div
              class="tab-pane fade show active"
              id="register-2"
              role="tabpanel"
              aria-labelledby="register-tab-2"
            >
              <form id="signform" action="/signup" method="post">
                <div class="form-group">
                  <label for="register-email-2">enter your first name *</label>
                  <input
                    type="text"
                    class="form-control"
                    id="register-firstName"
                    name="firstName"
                    required
                  />
                  <div id="fnameError" class="errorMessage"></div>
                </div>
                <!-- End .form-group -->

                <div class="form-group">
                  <label for="register-email-2">enter your last name *</label>
                  <input
                    type="text"
                    class="form-control"
                    id="register-lastName"
                    name="lastName"
                    required
                  />
                  <div id="lnameError" class="errorMessage"></div>
                </div>
                <!-- End .form-group -->

                <div class="form-group">
                  <label for="register-email-2">Your email address *</label>
                  <input
                    type="email"
                    class="form-control"
                    id="register-email"
                    name="registerEmail"
                    required
                  />
                  <div id="emailError" class="errorMessage"></div>
                </div>
                <!-- End .form-group -->

                <div class="form-group">
                  <label for="register-Phone">enter your phone number*</label>
                  <input
                    type="text"
                    class="form-control"
                    id="register-phone"
                    name="registerPhone"
                    required
                  />
                  <div id="phoneError" class="errorMessage"></div>
                </div>
                <!-- End .form-group -->

                <div class="form-group">
                  <label for="register-password-2">Password *</label>
                  <input
                    type="password"
                    class="form-control"
                    id="register-password"
                    name="registerPassword"
                    required
                  />
                  <div id="passwordError" class="errorMessage"></div>
                </div>
                <!-- End .form-group -->

                <div class="form-group">
                  <label for="register-confirmPassword-2"
                    >Confim Password *</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="register-confirmPassword"
                    name="confirmPassword"
                    required
                  />
                  <div id="confpasswordError" class="errorMessage"></div>
                </div>
                <!-- End .form-group -->

                <div class="form-footer">
                  <button type="submit" class="btn btn-outline-primary-2">
                    <span>SIGN UP</span>
                    <i class="icon-long-arrow-right"></i>
                  </button>

                  <div class="custom-control custom-checkbox">
                    <input
                      type="checkbox"
                      class="custom-control-input"
                      id="register-policy-2"
                      required
                    />
                    <label class="custom-control-label" for="register-policy-2"
                      >I agree to the <a href="#">privacy policy</a> *</label
                    >
                  </div>
                  <!-- End .custom-checkbox -->
                </div>
                <!-- End .form-footer -->
              </form>
              <div class="form-choice">
                <p class="text-center">or sign in with</p>
                <div class="row">
                  <div class="col-sm-6">
                    <a href="#" id="google-btn" class="btn btn-login btn-g">
                      <i class="icon-google"></i>
                      Login With Google
                    </a>
                  </div>
                  <!-- End .col-6 -->
                  <div class="col-sm-6">
                    <a href="#" class="btn btn-login btn-f">
                      <i class="icon-facebook-f"></i>
                      Login With Facebook
                    </a>
                  </div>
                  <!-- End .col-6 -->
                </div>
                <!-- End .row -->
              </div>
              <!-- End .form-choice -->
            </div>
            <!-- .End .tab-pane -->
          </div>
          <!-- End .tab-content -->
        </div>
        <!-- End .form-tab -->
      </div>
      <!-- End .form-box -->
    </div>
    <!-- End .container -->
  </div>
  <!-- End .login-page section-bg -->
</main>
<!-- End .main -->

<%-include("../../Views/Partials/User/footer")%>

<script>
  // document.getElementById("signform").addEventListener("submit", function (e) {
  //   e.preventDefault();
  //   clearErrors();

  //   // Get input values
  //   const firstName = document
  //     .getElementById("register-firstName")
  //     .value.trim();
  //   const lastName = document.getElementById("register-lastName").value.trim();
  //   const email = document.getElementById("register-email").value.trim();
  //   const phone = document.getElementById("register-phone").value.trim();
  //   const password = document.getElementById("register-password").value.trim();
  //   const confirmPassword = document
  //     .getElementById("register-confirmPassword")
  //     .value.trim();

  //   let isValid = true;

  //   // First & Last Name Validation (Min 3 characters, only letters & spaces)
  //   const namePattern = /^[A-Z][a-zA-Z\s]{2,}$/;

  //   const firstNamePattern = /^[A-Z][a-zA-Z\s]{2,}$/

  //   if (!firstNamePattern.test(firstName)) {
  //     if (firstName.length < 3) {
  //       document.getElementById("fnameError").innerText =
  //         "First name must be at least 3 characters long!";
  //     } else {
  //       document.getElementById("fnameError").innerText =
  //         "First letter must be capital and does not contiain special symbols!";
  //     }
  //   } else {
  //     document.getElementById("fnameError").innerText = ""; // Clear error if valid
  //   }

  //   if (!namePattern.test(lastName)) {
  //     document.getElementById("lnameError").innerText =
	// 	"First letter must be capital andmust have  at least 3 charatcers!"
  //     isValid = false;
  //   }

  //   // Email Validation
  //   const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/;
  //   if (!emailPattern.test(email)) {
  //     document.getElementById("emailError").innerText =
  //       "Please enter a valid email address!";
  //     isValid = false;
  //   }

  //   // Phone Number Validation (10 digits)
  //   const phonePattern = /^[0-9]{10}$/;
  //   if (!phonePattern.test(phone)) {
  //     document.getElementById("phoneError").innerText =
  //       "Phone number must be exactly 10 digits!";
  //     isValid = false;
  //   }

  //   // Password Validation (Min 6 characters)
  //   if (password.length < 6) {
  //     document.getElementById("passwordError").innerText =
  //       "Password must be at least 6 characters long!";
  //     isValid = false;
  //   }

  //   // Confirm Password Validation
  //   if (password !== confirmPassword) {
  //     document.getElementById("confpasswordError").innerText =
  //       "Passwords do not match!";
  //     isValid = false;
  //   }

  //   // Submit form if all validations pass
  //   if (isValid) {
  //     alert("Form submitted successfully!");
  //     document.getElementById("signform").submit(); // Uncomment this for actual form submission
  //   }
  // });

  // // Function to Clear Previous Errors
  // function clearErrors() {
  //   document
  //     .querySelectorAll(".errorMessage")
  //     .forEach((error) => (error.innerText = ""));
  // }

  // // Google Authentication Redirect
  // document.getElementById("google-btn")?.addEventListener("click", function () {
  //   window.location.href = "/auth/google";
  // });


  document.getElementById("signform").addEventListener("submit", function (e) {
  e.preventDefault();
  clearErrors();

  // Get input values
  const firstName = document.getElementById("register-firstName").value.trim();
  const lastName = document.getElementById("register-lastName").value.trim();
  const email = document.getElementById("register-email").value.trim();
  const phone = document.getElementById("register-phone").value.trim();
  const password = document.getElementById("register-password").value.trim();
  const confirmPassword = document.getElementById("register-confirmPassword").value.trim();

  let isValid = true;

  // First,Last name validation 
  const namePattern = /^[A-Z][a-zA-Z]{2,}$/; // star with capital and len should 3
  const specialCharPattern = /[!@#$%^&*()~/+\-]/; // identify if special symbols 

  if (!namePattern.test(firstName) || specialCharPattern.test(firstName)) {
    document.getElementById("fnameError").innerText = "Invalid first name! Use only letters, start with uppercase, min 3 chars.";
    isValid = false;
  }

  if (!namePattern.test(lastName) || specialCharPattern.test(lastName)) {
    document.getElementById("lnameError").innerText = "Invalid last name! Use only letters, start with uppercase, min 3 chars.";
    isValid = false;
  }

  // Email Validation
  const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/;
  if (!emailPattern.test(email)) {
    document.getElementById("emailError").innerText = "Please enter a valid email address!";
    isValid = false;
  }

  // Phone Number Validation (10 digits)
  const phonePattern = /^[0-9]{10}$/;
  if (!phonePattern.test(phone)) {
    document.getElementById("phoneError").innerText = "Phone number must be exactly 10 digits!";
    isValid = false;
  }

  // Password Validation (Min 6 characters)
  if (password.length < 6) {
    document.getElementById("passwordError").innerText = "Password must be at least 6 characters long!";
    isValid = false;
  }

  // Confirm Password Validation
  if (password !== confirmPassword) {
    document.getElementById("confpasswordError").innerText = "Passwords do not match!";
    isValid = false;
  }

  // Submit form if all validations pass
  if (isValid) {
    alert("Form submitted successfully!");
    document.getElementById("signform").submit(); // Uncomment this for actual form submission
  }
});

// Function to Clear Previous Errors
function clearErrors() {
  document.querySelectorAll(".errorMessage").forEach((error) => (error.innerText = ""));
}

// // Google Authentication Redirect
// document.getElementById("google-btn")?.addEventListener("click", function () {
//   window.location.href = "/auth/google";
// });

</script>
