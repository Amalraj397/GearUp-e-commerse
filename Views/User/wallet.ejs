
    <%- include("../../Views/Partials/User/headerLand") %>
    <title>My Wallet | AutoMinima</title>
    <style>
      body {
        background-color: #121212;
        color: #f0f0f0;
        font-family: 'Poppins', sans-serif;
      }

      .wallet-container {
        max-width: 1200px;
        margin: 155px auto;
        padding: 30px;
        background: #1e1e1e;
        border-radius: 12px;
        box-shadow: 0 18px 45px 0px rgba(255, 102, 0, 0.3);
      }

      .wallet-balance {
        text-align: center;
        margin-bottom: 30px;
      }

      .wallet-balance h2 {
        color: #ff6600;
        font-size: 28px;
        margin-bottom: 8px;
      }

      .wallet-balance p {
        color: #bbb;
        font-size: 16px;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        background: #252525;
        border-radius: 8px;
        overflow: hidden;
      }

      thead {
        background: #ff6600;
        color: #fff;
      }

      th, td {
        padding: 14px 16px;
        text-align: left;
        font-size: 15px;
      }

      tbody tr:nth-child(even) {
        background: #2b2b2b;
      }

      .credit {
        color: #4caf50;
        font-weight: 600;
      }

      .debit {
        color: #e53935;
        font-weight: 600;
      }

      .pagination {
        display: flex;
        justify-content: center;
        margin-top: 25px;
        gap: 8px;
      }

      .pagination a {
        color: #fff;
        background: #ff6600;
        padding: 8px 14px;
        border-radius: 5px;
        text-decoration: none;
        transition: 0.3s;
      }

      .pagination a:hover,
      .pagination a.active {
        background: #e65c00;
      }

      .no-transactions {
        text-align: center;
        color: #aaa;
        margin-top: 20px;
      }
    </style>
  </head>

  <body>

    <div class="wallet-container">
      <div class="wallet-balance">
        <h2>Wallet Balance: ₹<%= walletBalance.toFixed(2) %></h2>
        <p>Keep track of your transactions and refunds here.</p>
      </div>

      <% if (transactions.length > 0) { %>
      <table>
        <thead>
          <tr>
            <th>Date,Time</th>
            <th>Transaction ID</th>
            <th>Description</th>
            <th>Type</th>
            <th>Amount</th>
          </tr>
        </thead>
        <tbody>
          <% transactions.forEach(txn => { %>
          <tr>
            <td><%= new Date(txn.transactionDate).toLocaleString('en-IN') %></td>
            <td><%= txn.transactionId %></td>
            <td><%= txn.transactionDescription %></td>
            <td class="<%= txn.transactionType === 'credit' ? 'credit' : 'debit' %>">
              <%= txn.transactionType.charAt(0).toUpperCase() + txn.transactionType.slice(1) %>
            </td>
            <td class="<%= txn.transactionType === 'credit' ? 'credit' : 'debit' %>">
              <%= txn.transactionType === 'credit' ? '+' : '-' %> ₹<%= txn.transactionAmount.toFixed(2) %>
            </td>
          </tr>
          <% }) %>
        </tbody>
      </table>

      <div class="pagination">
        <% for(let i = 1; i <= totalPage; i++) { %>
          <a href="?page=<%= i %>" class="<%= page === i ? 'active' : '' %>"><%= i %></a>
        <% } %>
      </div>

      <% } else { %>
        <div class="no-transactions">
          <p>No transactions yet. Start shopping to earn wallet credits!</p>
        </div>
      <% } %>
    </div>

   <%- include("../../Views/Partials/User/footerLand") %>            
  </body>
</html>
