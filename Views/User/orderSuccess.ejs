<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Success - Autominima</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #e74c3c;
            --accent-color: #f39c12;
            --success-color: #27ae60;
            --light-bg: #ecf0f1;
        }

        body {
            background: linear-gradient(135deg, var(--light-bg) 0%, #1f292d 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
            /* Added car background image with low opacity */
            background-image: url('/User/assets/images/2024-Formula1-Mercedes-AMG-W15-F1-E-Performance-005-1080.jpg?height=800&width=1200');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            position: relative;
        }

        /* Added overlay to fade the background image */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(236, 240, 241, 0.92) 0%, rgba(189, 195, 199, 0.88) 100%);
            z-index: -1;
        }

        /* Added custom loader styles */
        .loader-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease-out;
        }

        .loader-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .loader-car {
            font-size: 4rem;
            color: white;
            animation: loaderBounce 1s ease-in-out infinite alternate;
            margin-bottom: 1rem;
        }

        .loader-text {
            color: white;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 2rem;
        }

        .loader-progress {
            width: 200px;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            overflow: hidden;
        }

        .loader-progress-bar {
            height: 100%;
            background: white;
            border-radius: 2px;
            animation: loaderProgress 1.8s ease-in-out;
        }

        @keyframes loaderBounce {
            0% { transform: translateY(0); }
            100% { transform: translateY(-20px); }
        }

        @keyframes loaderProgress {
            0% { width: 0%; }
            100% { width: 100%; }
        }

        .success-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .success-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
            padding: 3rem;
            text-align: center;
            max-width: 600px;
            position: relative;
            overflow: hidden;
            animation: slideUp 0.8s ease-out;
            /* Enhanced card styling for more realism */
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .success-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--secondary-color), var(--accent-color), var(--success-color));
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .checkmark-container {
            position: relative;
            margin: 0 auto 2rem;
            width: 120px;
            height: 120px;
        }

        .checkmark {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: var(--success-color);
            position: relative;
            animation: checkmarkBounce 0.6s ease-in-out 0.3s both;
            /* Added subtle shadow for depth */
            box-shadow: 0 8px 25px rgba(39, 174, 96, 0.3);
        }

        .checkmark::after {
            content: '';
            position: absolute;
            top: 35px;
            left: 45px;
            width: 15px;
            height: 30px;
            border: solid white;
            border-width: 0 4px 4px 0;
            transform: rotate(45deg);
            animation: checkmarkDraw 0.3s ease-in-out 0.6s both;
        }

        @keyframes checkmarkBounce {
            0% {
                opacity: 0;
                transform: scale(0);
            }
            50% {
                opacity: 1;
                transform: scale(1.2);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes checkmarkDraw {
            0% {
                opacity: 0;
                transform: rotate(45deg) scale(0);
            }
            100% {
                opacity: 1;
                transform: rotate(45deg) scale(1);
            }
        }

        /* Removed car animation and floating cars CSS */

        .success-title {
            color: var(--primary-color);
            font-weight: 700;
            font-size: 2.5rem;
            margin-bottom: 1rem;
            animation: fadeInUp 0.8s ease-out 0.4s both;
            /* Added text shadow for better readability */
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .success-subtitle {
            color: var(--secondary-color);
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            animation: fadeInUp 0.8s ease-out 0.6s both;
        }

        .success-message {
            color: #555;
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 2rem;
            animation: fadeInUp 0.8s ease-out 0.8s both;
            /* Enhanced text styling */
            font-weight: 400;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .order-details {
            background: rgba(236, 240, 241, 0.8);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 2rem 0;
            animation: fadeInUp 0.8s ease-out 1s both;
            /* Enhanced order details styling */
            border: 1px solid rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(5px);
        }

        .order-number {
            font-weight: 700;
            color: var(--primary-color);
            font-size: 1.2rem;
        }

        /* Added delivery status indicator */
        .delivery-status {
            display: inline-flex;
            align-items: center;
            background: rgba(39, 174, 96, 0.1);
            color: var(--success-color);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-top: 0.5rem;
        }

        .continue-btn {
            background: linear-gradient(45deg, var(--secondary-color), var(--accent-color));
            border: none;
            color: white;
            padding: 15px 40px;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 50px;
            transition: all 0.3s ease;
            animation: fadeInUp 0.8s ease-out 1.2s both;
            position: relative;
            overflow: hidden;
            /* Enhanced button styling */
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.2);
        }

        .continue-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(231, 76, 60, 0.4);
            color: white;
        }

        .continue-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .continue-btn:hover::before {
            left: 100%;
        }

        .home-btn {
            background: linear-gradient(45deg, var(--secondary-color), var(--accent-color));
             border: none;
             color: white;
             padding: 7px 15px;
             font-size: 1.1rem;
             font-weight: 600;
             top:25px;
             border-radius: 50px;
             transition: all 0.3s ease;
             animation: fadeInUp 0.8s ease-out 1.2s both;
             position: fixed;  /* Change from relative â†’ fixed */
             /* bottom: 210px;     Distance from bottom */
             left: 30px;       /* Distance from left */
             overflow: hidden;
             box-shadow: 0 8px 25px rgba(231, 76, 60, 0.2);
             z-index: 999;     /* Keep it above other elements */
        }

        .home-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(231, 76, 60, 0.4);
            color: white;
        }

        .home-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .home-btn:hover::before {
            left: 100%;
        }

        .orders-btn {
            background: linear-gradient(45deg, var(--secondary-color), var(--accent-color));
             border: none;
             color: white;
             padding: 7px 15px;
             font-size: 1.1rem;
             font-weight: 600;
             top:25px;
             border-radius: 50px;
             transition: all 0.3s ease;
             animation: fadeInUp 0.8s ease-out 1.2s both;
             position: fixed;
             right: 30px;     
             overflow: hidden;
             box-shadow: 0 8px 25px rgba(231, 76, 60, 0.2);
             z-index: 999;     /* Keep it above other elements */
        }

        .orders-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(231, 76, 60, 0.4);
            color: white;
        }

        .orders-btn:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .orders-btn:hover::before {
            left: 100%;
        }

        .social-links {
            margin-top: 2rem;
            animation: fadeInUp 0.8s ease-out 1.4s both;
        }

        .social-links a {
            color: var(--primary-color);
            font-size: 1.5rem;
            margin: 0 15px;
            transition: all 0.3s ease;
        }

        .social-links a:hover {
            color: var(--secondary-color);
            transform: translateY(-3px);
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: var(--accent-color);
            animation: confetti-fall 3s linear infinite;
        }

        .confetti:nth-child(odd) {
            background: var(--secondary-color);
            animation-delay: 0.5s;
        }

        .confetti:nth-child(3n) {
            background: var(--success-color);
            animation-delay: 1s;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        @media (max-width: 768px) {
            .success-card {
                margin: 1rem;
                padding: 2rem;
            }
            
            .success-title {
                font-size: 2rem;
            }
            
            .success-subtitle {
                font-size: 1.1rem;
            }

            .loader-car {
                font-size: 3rem;
            }
        }
    </style>
</head>
<body>
    <!-- Added custom loader overlay -->
    <div class="loader-overlay" id="loader">
        <div class="loader-car">
            <i class="fas fa-car-side"></i>
        </div>
        <div class="loader-text">Preparing your order confirmation...</div>
        <div class="loader-progress">
            <div class="loader-progress-bar"></div>
        </div>
    </div>

    <div class="success-container">
        <!-- Removed floating cars section -->
         <button class="btn home-btn" onclick="window.location.href = '/'">
            <i class="fas fa-home me-2"></i>Home
         </button>

        <div class="success-card">
            <!-- Removed animated car driving across -->

            <!-- Success checkmark -->
            <div class="checkmark-container">
                <div class="checkmark"></div>
            </div>

            <!-- Success content -->
            <h1 class="success-title">Order Confirmed!</h1>
            <h2 class="success-subtitle">Keep Shopping with Autominima</h2>
            
            <p class="success-message">
                ðŸŽ‰ Congratulations! Your order has been successfully placed. 
                Your premium diecast scale model cars are being prepared with care 
                and will be shipped to you soon. Thank you for choosing Autominima 
                for your collection!
            </p>

            <!-- Order details -->
            <div class="order-details">
                <div class="row">
                    <div class="col-md-6">
                        <p class="mb-1"><strong>Order Number:</strong></p>
                        <p class="order-number">{{order.orderNumber}}</p>
                    </div>
                    <div class="col-md-6">
                        <p class="mb-1"><strong>Estimated Delivery:</strong></p>
                        <p class="text-muted">3-5 Business Days</p>
                        <!-- Added delivery status indicator -->
                        <div class="delivery-status">
                            <i class="fas fa-truck me-2"></i>
                            Processing
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action buttons -->
            <div class="d-flex flex-column flex-md-row gap-3 justify-content-center align-items-center">
                <button class="btn continue-btn" onclick="continueShopping()">
                    <i class="fas fa-shopping-cart me-2"></i>
                    Continue Shopping
                </button>
                <a href="#" class="text-decoration-none" style="color: var(--primary-color);">
                    <i class="fas fa-truck me-1"></i>
                    Track Your Order
                </a>
            </div>

            <!-- Social links -->
            <div class="social-links">
                <p class="text-muted mb-3">Follow us for the latest collections:</p>
                <a href="#" title="Facebook"><i class="fab fa-facebook"></i></a>
                <a href="#" title="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="#" title="Twitter"><i class="fab fa-twitter"></i></a>
                <a href="#" title="YouTube"><i class="fab fa-youtube"></i></a>
            </div>
        </div>
         <button class="btn orders-btn" onclick="window.location.href = '/myOrders'">   
            <i class="fas fa-box me-2"></i>View Orders   
         </button>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        window.addEventListener('load', function() {
            const loader = document.getElementById('loader');
            
            // Hide loader after 1.8 seconds
            setTimeout(() => {
                loader.classList.add('fade-out');
                // Remove loader from DOM after fade animation
                setTimeout(() => {
                    loader.style.display = 'none';
                    // Trigger confetti after loader disappears
                    createConfetti();
                }, 500);
            }, 1800);
        });

        // Continue shopping function
        function continueShopping() {
            // Add a nice click animation
            const btn = event.target;
            btn.style.transform = 'scale(0.95)';
            setTimeout(() => {
                btn.style.transform = 'scale(1)';
                // Redirect to shop page (replace with your actual shop URL)
                window.location.href = '/shopPage';
            }, 150);
        }

        // Create confetti effect
        function createConfetti() {
            const colors = ['#e74c3c', '#f39c12', '#27ae60', '#3498db'];
            
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDelay = Math.random() * 2 + 's';
                    document.body.appendChild(confetti);
                    
                    // Remove confetti after animation
                    setTimeout(() => {
                        confetti.remove();
                    }, 3000);
                }, i * 100);
            }
        }

        // Add some interactive hover effects
        document.addEventListener('DOMContentLoaded', function() {
            const card = document.querySelector('.success-card');
            
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });

        // Generate random order number
        function generateOrderNumber() {
            const orderNum = 'AM-2024-' + Math.floor(Math.random() * 900000 + 100000);
            document.querySelector('.order-number').textContent = '#' + orderNum;
        }

        // Call on page load
        generateOrderNumber();
    </script>
</body>
</html>
